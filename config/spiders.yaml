# Path: config/spiders.yaml
version: 0.1

spiders:
  enabled: true
  donchian_lookback: 20

regime:
  # v1: define spider supportive if it's at/near 20D high
  supportive_if_at_20d_high: true
  block_if_breaking_20d_low: true

spider_gate:
  enabled: true

  # Allow trades only when the sector spider is in these stages on that date
  allow_stages: [ 7, 8, 9 ]

  # Hard block trades if sector spider is in these stages
  block_stages: [ 2, 3, 4 ]

  # If spider stage is missing for a date, default policy
  on_missing: "block"   # block | allow

  # Optional: require stage stability (e.g. avoid one-day flips)
  min_consecutive_days_in_allow: 1

  # Optional: risk multiplier by stage (for later sizing research)
  stage_risk_multiplier:
    "7": 1.10
    "8": 1.00
    "9": 0.80
    "default": 1.00